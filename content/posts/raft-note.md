---
title: "Raft Note"
date: 2020-09-01T14:38:08+08:00
draft: true
---

本文记录了在学习 Raft 算法的过程中的一些笔记和个人理解。

Raft 是近年来非常受欢迎的一致性算法，其目的就是为了在多个节点达成共识，允许一组机器像一个整体一样工作，即使一些机器出现故障、网络出现分区也能继续工作下去。

### 复制状态机

一致性算法是在复制状态机的背景下提出的。在这种方法中，一组服务器上的状态机产生相同状态的副本，并且在一些机器宕机的情况下也能够继续运行。复制状态机本广泛的运用在分布式系统中，用来解决很多容错的问题。

![复制状态机](https://blog-wero.oss-cn-shanghai.aliyuncs.com/img/raft-%E5%9B%BE1.png)

> 图 1 ：复制状态机的结构。一致性算法管理着来自客户端指令的复制日志。状态机从日志中处理相同顺序的相同指令，所以产生的结果也是相同的。

复制状态机通常都是基于**复制日志**实现的。如图 1，每一个服务器存储一个包含一系列指令的日志，并且按照日志的顺序进行执行。每一个日志都按照相同的顺序包含相同的指令，所以每一个服务器都执行相同的指令序列。因为每个状态机都是确定的，每一次执行操作都产生相同的状态和同样的序列。

